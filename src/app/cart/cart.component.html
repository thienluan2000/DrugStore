<h1 class="tittle">
  <span class="badge bg-info rounded-pill">
    <i class="bi bi-bag"></i> My Cart</span
  >
</h1>

<div class="container-fluid" *ngIf="items.length > 0; else item">
  <div class="row mt-3" *ngFor="let item of items">
    <div class="col-lg-3 col-md-4 col-sm-12 col-xs-12 border">
      <img
        class="card-img-top img-fluid"
        [src]="item.imageUrl"
        style="height: 17rem"
      />
    </div>
    <div class="col-lg-9 col-md-8 col-sm-12 col-xs-12 border">
      <h2 class="text-uppercase mt-2">{{ item.name }}</h2>
      <div class="">
        <product-classify [product]="item"></product-classify>
      </div>
      <div>
        <p class="">Information of product : {{ item.des }}</p>
      </div>
      <div class="list-group list-group-horizontal-md">
        <p>Unit Price :</p>
        <price-display [price]="item.price" class="ms-1"></price-display>
        <p class="ms-3">Total Price :</p>
        <div class="ms-1" style="font-weight: bold; color: rgb(7, 158, 45)">
          {{ item.totalPrice }} $
        </div>
      </div>
      <div class="list-group list-group-horizontal-md">
        <p class="mt-1">Quantity :</p>
        <form #totalPrice="ngForm" (ngSubmit)="updateTotalPrice(item)">
          <input
            type="number"
            style="height: 25px; width: 50px"
            class="ms-2"
            id="quantity"
            name="quantity"
            min="1"
            max="100"
            [(ngModel)]="item.quantity"
            (click)="alertQuantity()"
          />
          <input
            type="submit"
            value="Update TotalPrice"
            class="btn btn-warning btn-sm ms-3 mb-1"
          />
        </form>
      </div>
      <div class="mt-3">
        <a class="btn btn-danger btn-sm" (click)="removeProduct(item)"
          >Remove item <i class="bi bi-x-lg"></i
        ></a>
      </div>
    </div>
  </div>
</div>

<!--Display when cart page empty-->
<ng-template #item>
  <div class="container-fluid">
    <img
      src="assets/images/emptyCart.jpg"
      class="rounded mx-auto d-block img-fluid"
      alt="emptyCart"
    />
  </div>
</ng-template>

<div class="text-center">
  <a class="btn btn-outline-info btn-md m-3"
    >Pay the Bill <i class="bi bi-currency-dollar"></i
  ></a>
  <a class="btn btn-outline-warning btn-md m-3" (click)="clearCart()"
    >Remove all items <i class="bi bi-x-lg"></i
  ></a>
  <a href="" class="btn btn-outline-success btn-md m-3"
    >Back to ProductList Page <i class="bi bi-backspace"></i
  ></a>
</div>
